:PROPERTIES:
:ID:       85b20216-7707-4c47-96e9-2eccc110a0c0
:ROAM_ALIASES: routineParser
:END:
#+title: Routine Parser

* Help
#+begin_src bash :exports result :results pp
routineParser help
#+end_src

#+RESULTS:
#+begin_example
This is a multi-dispatch command. -h/--help/--help-syntax is available
for top-level/all subcommands. Usage is like:
    cmd {SUBCMD} [subcommand-opts & args]
where subcommand syntaxes are as follows:

  summary [REQUIRED,optional-params]
    Checks if routine is not larger than day
  Options:
      -r=, --routineYaml=  string  REQUIRED  set routineYaml
      -t=, --today=        string  ""        set today

  represent [REQUIRED,optional-params]
    Generates the routine representation in Markdown

    The float hours described at `dayStart` overrides the configuration day
    start
  Options:
      -r=, --routineYaml=  string  REQUIRED  set routineYaml
      -d=, --dayStart=     float   -1.0      set dayStart
      -t=, --today=        string  ""        set today
      --highlightAction    bool    false     set highlightAction

  patchTimetomeRepeatingTasks [REQUIRED,optional-params]
    Patches the timeto.me export file with the routine tasks
  Options:
      -r=, --routineYaml=   string  REQUIRED  set routineYaml
      -t=, --timetomeJson=  string  REQUIRED  set timetomeJson
      -d=, --dayStart=      float   -1.0      set dayStart
      --today=              string  ""        set today

  ganttChart [REQUIRED,optional-params]
    Generates the routine representation in Mermaid Gantt chart

    The float hours described at `dayStart` overrides the configuration day
    start
  Options:
      -r=, --routineYaml=  string  REQUIRED  set routineYaml
      -d=, --dayStart=     float   -1.0      set dayStart
      -t=, --today=        string  ""        set today

  representUnplanned [REQUIRED,optional-params]
    Generates the representation in Markdown of unplanned tasks
  Options:
      -r=, --routineYaml=  string  REQUIRED  set routineYaml
      -t=, --today=        string  ""        set today
#+end_example


* Example
** Summary
#+begin_src bash :exports both :results pp
routineParser summary -r example.yaml
#+end_src

#+RESULTS:
: (valid: false, rawNeededHours: 5.583333333333333, realNeededHours: 6.966666666666667, dayHours: 15.5, totalStoryPoints: 11, totalSatisfaction: 21, totalPositiveBilled: 0.0, totalNegativeBilled: -125.0, totalBilled: 125.0, totalBalance: -125.0, totalBilledHours: 0.4166666666666667)

** Markdown
#+begin_src bash :exports both :results pp
routineParser represent -r example.yaml
#+end_src

#+RESULTS:
#+begin_example
## Getting Started (06:00-06:52)
### Exit Bedroom - 0sp0sf0pr10min (06:00-06:10)
- Wake the bed - 3min (06:00-06:03)
- Vest Clothes - 3min (06:04-06:07)
- Drink Water - 1min (06:08-06:09)
- Make the Bed - 3min (06:10-06:13)
### Breakfast - 0sp2sf0pr31min (06:16-06:47)
- Make Coffee - 5min (06:16-06:21)
- Prepare Breakfast - 20min (06:22-06:42)
- Eat - 6min (06:43-06:49)

## Plan the Week (06:54-07:35)
### !Weekly Planning - 1sp1sf0pr35min (06:54-07:29)
- Past Week Reporting - 5min (06:54-06:59)
- Rate the Past Week - 5min (07:00-07:05)
- Review Plans and Tasks - 15min (07:06-07:21)
- Write the Plan - 10min (07:22-07:32)

## Plan Personal Day (07:37-08:09)
### Personal Day Planning - 1sp0sf-300pr25min (07:37-08:02)
- Yesterday Backtrack - 5min (07:37-07:42)
- Review Plans and Tasks - 5min (07:43-07:48)
- Review the Routine - 5min (07:49-07:54)
- Review Past Plan - 5min (07:55-08:00)
- Plan the Day - 5min (08:01-08:06)

## Plan the Work Week (08:11-08:42)
### !Work Week Planning - 1sp0sf0pr25min (08:11-08:36)
- Past Work Week Reporting - 5min (08:11-08:16)
- Rate the Past Work Week - 5min (08:17-08:22)
- Review Plans and Tasks - 10min (08:23-08:33)
- Write the Plan - 5min (08:34-08:39)

## Waking the body (08:44-09:30)
### Morning Exercises - 0sp5sf0pr26min (08:44-09:10)
- Warm Up - 6min (08:44-08:50)
- Calisthenics - 20min (08:51-09:11)
### Morning Bath - 0sp5sf0pr12min (09:14-09:26)
- Prepare to Take Bath - 2min (09:14-09:16)
- Cold Bath - 10min (09:17-09:27)

## Third Refection (09:32-10:27)
### Light Lunch - 3sp1sf0pr33min (09:32-10:05)
- Prepare Food - 25min (09:32-09:57)
- Eat - 8min (09:58-10:06)
### !Help Digestion - 3sp0sf0pr15min (10:09-10:24)
- Light Exercises - 15min (10:09-10:24)

## Stop the work (10:29-11:12)
### Last Refection - 0sp5sf0pr23min (10:29-10:52)
- Prepare the Food - 15min (10:29-10:44)
- Eat - 8min (10:45-10:53)
### !Last bath - 0sp2sf0pr12min (10:56-11:08)
- Prepare to Take Bath - 2min (10:56-10:58)
- Take Bath - 10min (10:59-11:09)

## Learn (11:14-12:17)
### Learning New Things - 2sp0sf0pr60min (11:14-12:14)
- Study New Information - 60min (11:14-12:14)

## Shutting down (12:19-12:56)
### Finish the Day - 0sp0sf0pr10min (12:19-12:29)
- Finish the Personal Report - 10min (12:19-12:29)
### Review Routine - 0sp0sf0pr15min (12:32-12:47)
- Improve and review the routine - 15min (12:32-12:47)
### Patch timetome - 0sp0sf0pr3min (12:50-12:53)
- Patch it with Termux script - 3min (12:50-12:53)
#+end_example
** Represent Unplanned Tasks
#+begin_src bash :exports both :results pp
routineParser representUnplanned -r example.yaml
#+end_src

#+RESULTS:
: - Brew Extra Coffee - 0sp3sf0pr10min
: - Quick Meditation - 0sp2sf0pr6min
** Gantt Chart
#+begin_src bash :exports both :results raw
echo "#+begin_src mermaid :file example.svg"
echo "%%{init: { 'theme': 'dark' } }%%"
routineParser ganttChart -r example.yaml
echo "#+end_src"
#+end_src

#+RESULTS:
#+begin_src mermaid :file example.svg
%%{init: { 'theme': 'dark' } }%%
gantt
  title Routine for 2024-10-05 (0.1.0)
  dateFormat HH:mm
  axisFormat %H:%M

  Day Start : milestone, m1, 06:00, 2m

  section Getting Started
  06.00-06.10 Exit Bedroom - 0sp0sf0pr10min : 06:00, 10m
  06.16-06.47 Breakfast - 0sp2sf0pr31min : 06:16, 31m

  section Plan the Week
  06.54-07.29 !Weekly Planning - 1sp1sf0pr35min : 06:54, 35m

  section Plan Personal Day
  07.37-08.02 Personal Day Planning - 1sp0sf-300pr25min : 07:37, 25m

  section Plan the Work Week
  08.11-08.36 !Work Week Planning - 1sp0sf0pr25min : 08:11, 25m

  section Waking the body
  08.44-09.10 Morning Exercises - 0sp5sf0pr26min : 08:44, 26m
  09.14-09.26 Morning Bath - 0sp5sf0pr12min : 09:14, 12m

  section Third Refection
  09.32-10.05 Light Lunch - 3sp1sf0pr33min : 09:32, 33m
  10.09-10.24 !Help Digestion - 3sp0sf0pr15min : 10:09, 15m

  section Stop the work
  10.29-10.52 Last Refection - 0sp5sf0pr23min : 10:29, 23m
  10.56-11.08 !Last bath - 0sp2sf0pr12min : 10:56, 12m

  section Learn
  11.14-12.14 Learning New Things - 2sp0sf0pr60min : 11:14, 60m

  section Shutting down
  12.19-12.29 Finish the Day - 0sp0sf0pr10min : 12:19, 10m
  12.32-12.47 Review Routine - 0sp0sf0pr15min : 12:32, 15m
  12.50-12.53 Patch timetome - 0sp0sf0pr3min : 12:50, 3m

  Day End : milestone, m2, 21:30, 2m
#+end_src
